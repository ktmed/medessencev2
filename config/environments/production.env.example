# =============================================================================
# MedEssenceAI Production Environment Configuration
# IMPORTANT: This is an example file. Never commit actual secrets!
# Copy to production.env and fill with actual values
# =============================================================================

# =============================================================================
# Environment Configuration
# =============================================================================
NODE_ENV=production
ENVIRONMENT=production
LOG_LEVEL=info

# =============================================================================
# Domain Configuration
# =============================================================================
FRONTEND_DOMAIN=medessence-ai.com
API_DOMAIN=api.medessence-ai.com
WEBSOCKET_DOMAIN=ws.medessence-ai.com

# =============================================================================
# Database Configuration
# =============================================================================
# PostgreSQL Configuration
POSTGRES_HOST=postgres-service
POSTGRES_PORT=5432
POSTGRES_DB=medessence
POSTGRES_USER=CHANGE_ME
POSTGRES_PASSWORD=CHANGE_ME_SECURE_PASSWORD
POSTGRES_MAX_CONNECTIONS=100
POSTGRES_SSL_MODE=require

# Database URL (constructed from above)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}?sslmode=${POSTGRES_SSL_MODE}

# =============================================================================
# Cache Configuration (Redis)
# =============================================================================
REDIS_HOST=redis-service
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD
REDIS_DB=0
REDIS_MAX_CONNECTIONS=20
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# =============================================================================
# Security Configuration
# =============================================================================
# JWT Configuration
JWT_SECRET=CHANGE_ME_JWT_SECRET_VERY_LONG_AND_SECURE_MINIMUM_32_CHARS
JWT_REFRESH_SECRET=CHANGE_ME_JWT_REFRESH_SECRET_VERY_LONG_AND_SECURE
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=30d

# Session Configuration
SESSION_SECRET=CHANGE_ME_SESSION_SECRET_VERY_LONG_AND_SECURE
SESSION_TIMEOUT=3600

# Encryption Keys (HIPAA Compliance)
ENCRYPTION_KEY=CHANGE_ME_ENCRYPTION_KEY_32_CHARS
PHI_ENCRYPTION_KEY=CHANGE_ME_PHI_ENCRYPTION_KEY_32_CHARS
PHI_ENCRYPTION_IV=CHANGE_ME_ENCRYPTION_IV_16_CHARS
MEDICAL_RECORD_KEY=CHANGE_ME_MEDICAL_RECORD_KEY_32_CHARS
AUDIT_LOG_ENCRYPTION_KEY=CHANGE_ME_AUDIT_LOG_KEY_32_CHARS

# Bcrypt Configuration
BCRYPT_SALT_ROUNDS=12

# =============================================================================
# AI Provider Configuration
# =============================================================================
# OpenAI Configuration
OPENAI_API_KEY=CHANGE_ME_OPENAI_API_KEY
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_MAX_TOKENS=4000
OPENAI_TEMPERATURE=0.1

# Anthropic Configuration
ANTHROPIC_API_KEY=CHANGE_ME_ANTHROPIC_API_KEY
ANTHROPIC_MODEL=claude-3-sonnet-20240229
ANTHROPIC_MAX_TOKENS=4000

# Google AI Configuration
GOOGLE_API_KEY=CHANGE_ME_GOOGLE_API_KEY
GOOGLE_MODEL=gemini-1.5-pro

# AI Provider Priority
AI_PROVIDER_PRIORITY=openai,anthropic,google

# =============================================================================
# CORS and Security Headers
# =============================================================================
CORS_ORIGINS=https://medessence-ai.com,https://app.medessence-ai.com
TRUSTED_PROXIES=10.0.0.0/8,172.16.0.0/12,192.168.0.0/16

# =============================================================================
# Rate Limiting Configuration
# =============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=900
RATE_LIMIT_CONNECTIONS=5
RATE_LIMIT_RPS=10

# =============================================================================
# Medical Compliance (HIPAA)
# =============================================================================
HIPAA_AUDIT_ENABLED=true
PHI_ENCRYPTION_ENABLED=true
DATA_RETENTION_DAYS=2555
AUDIT_LOG_RETENTION_DAYS=3650
MEDICAL_DATA_BACKUP_ENABLED=true

# =============================================================================
# Transcription Configuration
# =============================================================================
VOSK_SERVICE_URL=http://vosk-service:8002
WHISPER_MODEL_SIZE=base
TRANSCRIPTION_LANGUAGE=de-DE
MAX_CONCURRENT_TRANSCRIPTIONS=5
TRANSCRIPTION_TIMEOUT=300

# =============================================================================
# File Upload Configuration
# =============================================================================
MAX_FILE_SIZE_MB=50
ALLOWED_FILE_TYPES=mp3,wav,m4a,ogg,webm
UPLOAD_TIMEOUT=300
FILE_ENCRYPTION_ENABLED=true

# =============================================================================
# Monitoring and Observability
# =============================================================================
METRICS_ENABLED=true
PROMETHEUS_METRICS_PATH=/metrics
HEALTH_CHECK_PATH=/health
TRACING_ENABLED=true

# Sentry Configuration
SENTRY_DSN=CHANGE_ME_SENTRY_DSN
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# =============================================================================
# Email Configuration
# =============================================================================
SMTP_HOST=CHANGE_ME_SMTP_HOST
SMTP_PORT=587
SMTP_USER=CHANGE_ME_SMTP_USER
SMTP_PASSWORD=CHANGE_ME_SMTP_PASSWORD
EMAIL_FROM=noreply@medessence-ai.com

# =============================================================================
# Backup Configuration
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
AWS_BACKUP_REGION=us-east-1
S3_BACKUP_BUCKET=CHANGE_ME_BACKUP_BUCKET

# AWS Credentials for Backups
AWS_ACCESS_KEY_ID=CHANGE_ME_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=CHANGE_ME_AWS_SECRET_KEY
AWS_REGION=us-east-1

# =============================================================================
# Kubernetes Configuration
# =============================================================================
# Resource Limits
CPU_QUOTA=20
MEMORY_QUOTA=40Gi
STORAGE_QUOTA=100Gi
STORAGE_CLASS=gp3-encrypted

# Replica Configuration
BACKEND_REPLICAS=3
FRONTEND_REPLICAS=3
TRANSCRIPTION_REPLICAS=2
REPORT_GENERATION_REPLICAS=2
SUMMARY_GENERATION_REPLICAS=2
WEBSOCKET_PROXY_REPLICAS=2

# Auto-scaling Configuration
BACKEND_MIN_REPLICAS=2
BACKEND_MAX_REPLICAS=10
FRONTEND_MIN_REPLICAS=2
FRONTEND_MAX_REPLICAS=10

# Resource Requests and Limits
BACKEND_MEMORY_REQUEST=512Mi
BACKEND_MEMORY_LIMIT=2Gi
BACKEND_CPU_REQUEST=200m
BACKEND_CPU_LIMIT=1000m

FRONTEND_MEMORY_REQUEST=256Mi
FRONTEND_MEMORY_LIMIT=1Gi
FRONTEND_CPU_REQUEST=100m
FRONTEND_CPU_LIMIT=500m

TRANSCRIPTION_MEMORY_REQUEST=1Gi
TRANSCRIPTION_MEMORY_LIMIT=4Gi
TRANSCRIPTION_CPU_REQUEST=500m
TRANSCRIPTION_CPU_LIMIT=2000m

# =============================================================================
# External Services Configuration
# =============================================================================
# Medical Terminology Services
UMLS_API_KEY=CHANGE_ME_UMLS_API_KEY
ICD_API_KEY=CHANGE_ME_ICD_API_KEY
SNOMED_API_KEY=CHANGE_ME_SNOMED_API_KEY

# Speech Services
AZURE_SPEECH_KEY=CHANGE_ME_AZURE_SPEECH_KEY
AZURE_SPEECH_REGION=eastus

# Translation Services
DEEPL_API_KEY=CHANGE_ME_DEEPL_API_KEY
AZURE_TRANSLATOR_KEY=CHANGE_ME_AZURE_TRANSLATOR_KEY

# =============================================================================
# Notification Configuration
# =============================================================================
SLACK_WEBHOOK_URL=CHANGE_ME_SLACK_WEBHOOK
WEBHOOK_SECRET=CHANGE_ME_WEBHOOK_SECRET
EMAIL_NOTIFICATIONS=devops@medessence-ai.com

# Monitoring Notifications
ALERT_EMAIL=alerts@medessence-ai.com
ONCALL_EMAIL=oncall@medessence-ai.com

# =============================================================================
# Feature Flags
# =============================================================================
FEATURE_ADVANCED_REPORTS=true
FEATURE_MULTI_LANGUAGE=true
FEATURE_AI_SUGGESTIONS=true
FEATURE_EXPORT_PDF=true
FEATURE_REAL_TIME_COLLABORATION=false
FEATURE_MOBILE_APP=false

# =============================================================================
# Performance Configuration
# =============================================================================
CACHE_TTL_SECONDS=3600
CONNECTION_POOL_SIZE=20
QUERY_TIMEOUT=30000
API_TIMEOUT=60000

# =============================================================================
# Compliance and Audit
# =============================================================================
COMPLIANCE_MODE=hipaa
AUDIT_EVENTS=user_login,user_logout,data_access,data_modification,data_export,configuration_change,security_event
SECURITY_SCAN_ENABLED=true
VULNERABILITY_SCAN_SCHEDULE=0 3 * * *

# =============================================================================
# TLS/SSL Configuration
# =============================================================================
TLS_ENABLED=true
TLS_MIN_VERSION=1.2
SSL_CERT_PATH=/etc/ssl/certs/medessence.crt
SSL_KEY_PATH=/etc/ssl/private/medessence.key

# =============================================================================
# Container Registry Configuration
# =============================================================================
REGISTRY=ghcr.io
IMAGE_NAME=medessence-ai
DOCKER_CONFIG_JSON_BASE64=CHANGE_ME_DOCKER_CONFIG

# =============================================================================
# Development and Testing (Production should be false/disabled)
# =============================================================================
DEBUG_MODE=false
TEST_MODE=false
MOCK_SERVICES=false
ENABLE_SWAGGER=false
ENABLE_GRAPHQL_PLAYGROUND=false